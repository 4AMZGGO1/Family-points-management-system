<!--pages/home/home.wxml-->
<view class="container">
  <!-- æ¬¢è¿ä¿¡æ¯ -->
  <view class="welcome-section">
    <text class="welcome-text">
      <text class="welcome-icon">â˜€ï¸</text> æ¬¢è¿å›æ¥ï¼Œ{{username}}ï¼
    </text>
  </view>

  <!-- ç§¯åˆ†å¡ç‰‡ -->
  <view class="points-card">
    <text class="points-title">ğŸ† æˆ‘çš„ç§¯åˆ†</text>
    <text class="points-number">{{userPoints}}</text>
    <text class="points-desc">ç»§ç»­åŠªåŠ›ï¼Œè·å¾—æ›´å¤šç§¯åˆ†å§ï¼</text>
  </view>

  <!-- å¿«é€Ÿæ“ä½œ -->
  <view class="quick-actions">
    <navigator url="/pages/apply/apply" class="action-item">
      <text class="action-icon">â•</text>
      <text class="action-title">ç”³è¯·ç§¯åˆ†</text>
      <text class="action-desc">å®Œæˆä»»åŠ¡è·å¾—ç§¯åˆ†</text>
    </navigator>
    
    <navigator url="/pages/shop/shop" class="action-item">
      <text class="action-icon">ğŸ›ï¸</text>
      <text class="action-title">ç§¯åˆ†å•†åŸ</text>
      <text class="action-desc">å…‘æ¢å¿ƒä»ªç‰©å“</text>
    </navigator>
    
    <navigator url="/pages/history/history" class="action-item">
      <text class="action-icon">ğŸ“Š</text>
      <text class="action-title">å†å²è®°å½•</text>
      <text class="action-desc">æŸ¥çœ‹ç§¯åˆ†å˜åŠ¨</text>
    </navigator>
  </view>

  <!-- å¾…å®¡æ ¸ç”³è¯· -->
  <view class="card">
    <view class="card-header">
      <text class="card-title">â° å¾…å®¡æ ¸ç”³è¯·</text>
    </view>
    <view class="card-content">
      <view wx:if="{{pendingSubmissions.length === 0}}" class="empty-state">
        <text class="empty-icon">âœ…</text>
        <text class="empty-text">æš‚æ— å¾…å®¡æ ¸ç”³è¯·</text>
      </view>
      <view wx:else>
        <view wx:for="{{pendingSubmissions}}" wx:key="id" class="list-item">
          <view class="item-content">
            <text class="item-title">{{item.title}}</text>
            <text class="item-meta">{{item.category}} Â· +{{item.score}}ç§¯åˆ†</text>
          </view>
          <view class="item-status">
            <text class="status-badge status-pending">{{item.statusText}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘ç§¯åˆ†å˜åŠ¨ -->
  <view class="card">
    <view class="card-header">
      <text class="card-title">ğŸ“ˆ æœ€è¿‘ç§¯åˆ†å˜åŠ¨</text>
    </view>
    <view class="card-content">
      <view wx:if="{{recentTransactions.length === 0}}" class="empty-state">
        <text class="empty-icon">ğŸ“‰</text>
        <text class="empty-text">æš‚æ— ç§¯åˆ†å˜åŠ¨è®°å½•</text>
      </view>
      <view wx:else>
        <view wx:for="{{recentTransactions}}" wx:key="id" class="list-item">
          <view class="item-content">
            <text class="item-title">{{item.description}}</text>
            <text class="item-meta">{{item.timeAgo}}</text>
          </view>
          <view class="item-amount">
            <text class="amount {{item.type === 'earn' ? 'positive' : 'negative'}}">
              {{item.type === 'earn' ? '+' : '-'}}{{item.amount}}
            </text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- ä»»åŠ¡åˆ†ç±»å¿«é€Ÿå…¥å£ -->
  <view class="card">
    <view class="card-header">
      <text class="card-title">ğŸ“‹ ä»»åŠ¡åˆ†ç±»</text>
    </view>
    <view class="card-content">
      <view class="category-grid">
        <view wx:for="{{categories}}" wx:key="*this" class="category-item" 
              bindtap="goToApply" data-category="{{item}}">
          <text class="category-icon">ğŸ·ï¸</text>
          <text class="category-name">{{item}}</text>
        </view>
      </view>
    </view>
  </view>
</view>